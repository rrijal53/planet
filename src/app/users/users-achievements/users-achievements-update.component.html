<mat-toolbar>
  <button mat-icon-button (click)="goBack()"><mat-icon>arrow_back</mat-icon></button>
  <span i18n>Edit Achievements</span>
</mat-toolbar>

<div class="space-container">
  <mat-toolbar class="primary-color font-size-1">
    <span>{{user.name}}</span>
  </mat-toolbar>
  <div class="view-container">
    <form [formGroup]="editForm" (ngSubmit)="onSubmit()">
      <div class="achievement-button">
        <button type="submit" mat-raised-button [planetSubmit]="editForm.valid" color="primary" i18n>Update</button>
        <button type="button" mat-raised-button color="warn" (click)="goBack()" i18n>Cancel</button>
      </div>
      <mat-form-field class="full-width mat-form-field-type-no-underline">
        <planet-markdown-textbox class="full-width" placeholder="My Purpose" [formControl]="editForm.controls.purpose"></planet-markdown-textbox>
      </mat-form-field>
      <mat-form-field class="full-width mat-form-field-type-no-underline">
        <planet-markdown-textbox class="full-width" placeholder="My Goals" [formControl]="editForm.controls.goals"></planet-markdown-textbox>
      </mat-form-field>
      <mat-form-field class="full-width mat-form-field-type-no-underline">
        <planet-markdown-textbox class="full-width" placeholder="Summary of Achievements" [formControl]="editForm.controls.achievementsHeader"></planet-markdown-textbox>
      </mat-form-field>
      <div>
        <button type="button" (click)="addAchievement()" mat-stroked-button color="primary">Add Achievement</button>
        <mat-list>
          <mat-list-item *ngFor="let achievement of achievements.controls; index as i">
            <span mat-line>{{achievement.value}}</span>
            <button mat-stroked-button type="button" (click)="addAchievement(i, achievement.value)" i18n>Edit</button>
          </mat-list-item>
        </mat-list>
      </div>
      <div>
        <button type="button" (click)="addOtherInfo()" mat-stroked-button color="primary">Add Other Information</button>
        <mat-list>
          <mat-list-item *ngFor="let info of otherInfo.controls; index as i">
            <span mat-line>{{info.value.type}}: {{info.value.description}}</span>
            <button mat-stroked-button type="button" (click)="addOtherInfo(i, info.value)" i18n>Edit</button>
          </mat-list-item>
        </mat-list>
      </div>
      <mat-checkbox formControlName="sendToNation" class="full-width" i18n>
        Allow your achievements to be shared with the nation
      </mat-checkbox>
    </form>
  </div>
</div>
